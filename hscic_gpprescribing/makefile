# makefile script to download the HSCIC prescribing CSV files released each month, with a 3-month lag, from August 2010. 
# file pattern: '*PDPI+BNFT.CSV','*ADDR+BNFT.CSV', '*CHEM+SUBS.CSV'
# http://www.hscic.gov.uk/prescribing
# http://www.hscic.gov.uk/searchcatalogue?q=title%3A%22GP+Practice+Prescribing+Presentation%22&area=&size=10&sort=Relevance
# http://www.gnu.org/software/make/
# http://www.gnu.org/software/make/manual/make.html

url = http://datagov.ic.nhs.uk/presentation

# download all (warning: this will take hours and is prone to fail as connections time out)
dwnlall: dwnl2010 dwnl2012 dwnl2012 dwnl2013 dwnl2014 dwnl2015
	
# download 2015 files (rename for consistency)
dwnl2015:
	curl -o T201503PDPI+BNFT.CSV $(url)/2015_03_March/T201503PDPI+BNFT.CSV -o T201503ADDR+BNFT.CSV $(url)/2015_03_March/T201503ADDR+BNFT.CSV -o T201503CHEM+SUBS.CSV $(url)/2015_03_March/T201503CHEM+SUBS.CSV
	curl -o T201502PDPI+BNFT.CSV $(url)/2015_02_February/T201502PDPI+BNFT.CSV -o T201502ADDR+BNFT.CSV $(url)/2015_02_February/T201502ADDR+BNFT.CSV -o T201502CHEM+SUBS.CSV $(url)/2015_02_February/T201502CHEM+SUBS.CSV
	curl -o T201501PDPI+BNFT.CSV $(url)/2015_01_January/T201501PDPI+BNFT.CSV -o T201501ADDR+BNFT.CSV $(url)/2015_01_January/T201501ADDR+BNFT.CSV -o T201501CHEM+SUBS.CSV $(url)/2015_01_January/T201501CHEM+SUBS.CSV

# download 2014 files (rename for consistency)
dwnl2014:
	curl -o T201412PDPI+BNFT.CSV $(url)/2014_12_December/T201412PDPI+BNFT.CSV -o T201412ADDR+BNFT.CSV $(url)/2014_12_December/T201412ADDR+BNFT.CSV -o T201412CHEM+SUBS.CSV $(url)/2014_12_December/T201412CHEM+SUBS.CSV
	curl -o T201411PDPI+BNFT.CSV $(url)/2014_11_November/T201411PDPI+BNFT.CSV -o T201411ADDR+BNFT.CSV $(url)/2014_11_November/T201411ADDR+BNFT.CSV -o T201411CHEM+SUBS.CSV $(url)/2014_11_November/T201411CHEM+SUBS.CSV
	curl -o T201410PDPI+BNFT.CSV $(url)/2014_10_October/T201410PDPI+BNFT.CSV -o T201410ADDR+BNFT.CSV $(url)/2014_10_October/T201410ADDR+BNFT.CSV -o T201410CHEM+SUBS.CSV $(url)/2014_10_October/T201410CHEM+SUBS.CSV
	curl -o T201409PDPI+BNFT.CSV $(url)/2014_09_September/T201409PDPI+BNFT.CSV -o T201409ADDR+BNFT.CSV $(url)/2014_09_September/T201409ADDR+BNFT.CSV -o T201409CHEM+SUBS.CSV $(url)/2014_09_September/T201409CHEM+SUBS.CSV
	curl -o T201408PDPI+BNFT.CSV $(url)/2014_08_August/T201408PDPI+BNFT.CSV -o T201408ADDR+BNFT.CSV $(url)/2014_08_August/T201408ADDR+BNFT.CSV -o T201408CHEM+SUBS.CSV $(url)/2014_08_August/T201408CHEM+SUBS.CSV	
	curl -o T201407PDPI+BNFT.CSV $(url)/2014_07_july/T201407PDPI+BNFT.CSV -o T201407ADDR+BNFT.CSV $(url)/2014_07_july/T201407ADDR+BNFT.CSV -o T201407CHEM+SUBS.CSV $(url)/2014_07_july/T201407CHEM+SUBS.CSV
	curl -o T201406PDPI+BNFT.CSV $(url)/2014_06_June/T201406PDPI+BNFT.CSV -o T201406ADDR+BNFT.CSV $(url)/2014_06_June/T201406ADDR+BNFT.CSV -o T201406CHEM+SUBS.CSV $(url)/2014_06_June/T201406CHEM+SUBS.CSV
	curl -o T201405PDPI+BNFT.CSV $(url)/2014_05_May/T201405PDPI+BNFT.CSV -o T201405ADDR+BNFT.CSV $(url)/2014_05_May/T201405ADDR+BNFT.CSV -o T201405CHEM+SUBS.CSV $(url)/2014_05_May/T201405CHEM+SUBS.CSV
	curl -o T201404PDPI+BNFT.CSV $(url)/2014_04_April/T201404PDPI+BNFT.CSV -o T201404ADDR+BNFT.CSV $(url)/2014_04_April/T201404ADDR+BNFT.CSV -o T201404CHEM+SUBS.CSV $(url)/2014_04_April/T201404CHEM+SUBS.CSV
	curl -o T201403PDPI+BNFT.CSV $(url)/2014_03_March/T201403PDPI+BNFT.CSV -o T201403ADDR+BNFT.CSV $(url)/2014_03_March/T201403ADDR+BNFT.CSV -o T201403CHEM+SUBS.CSV $(url)/2014_03_March/T201403CHEM+SUBS.CSV
	curl -o T201402PDPI+BNFT.CSV $(url)/2014_02_February/T201402PDPI+BNFT.CSV -o T201402ADDR+BNFT.CSV $(url)/2014_02_February/T201402ADDR+BNFT.CSV -o T201402CHEM+SUBS.CSV $(url)/2014_02_February/T201402CHEM+SUBS.CSV
	curl -o T201401PDPI+BNFT.CSV $(url)/2014_01_January/T201401PDPI+BNFT.CSV -o T201401ADDR+BNFT.CSV $(url)/2014_01_January/T201401ADDR+BNFT.CSV -o T201401CHEM+SUBS.CSV $(url)/2014_01_January/T201401CHEM+SUBS.CSV

# download 2013 files (rename for consistency)
dwnl2013:
	curl -o T201312PDPI+BNFT.CSV $(url)/2013_12_December/T201312PDPI+BNFT.CSV -o T201312ADDR+BNFT.CSV $(url)/2013_12_December/T201312ADDR+BNFT.CSV -o T201312CHEM+SUBS.CSV $(url)/2013_12_December/T201312CHEM+SUBS.CSV
	curl -o T201311PDPI+BNFT.CSV $(url)/2013_11_November/T201311PDPI+BNFT.CSV -o T201311ADDR+BNFT.CSV $(url)/2013_11_November/T201311ADDR+BNFT.CSV -o T201311CHEM+SUBS.CSV $(url)/2013_11_November/T201311CHEM+SUBS.CSV
	curl -o T201310PDPI+BNFT.CSV $(url)/2013_10_October/T201310PDPI+BNFT.CSV -o T201310ADDR+BNFT.CSV $(url)/2013_10_October/T201310ADDR+BNFT.CSV -o T201310CHEM+SUBS.CSV $(url)/2013_10_October/T201310CHEM+SUBS.CSV
	curl -o T201309PDPI+BNFT.CSV $(url)/2013_09_September/T201309PDPI+BNFT.csv -o T201309ADDR+BNFT.CSV $(url)/2013_09_September/T201309ADDR+BNFT.csv -o T201309CHEM+SUBS.CSV $(url)/2013_09_September/T201309CHEM+SUBS.csv
	curl -o T201308PDPI+BNFT.CSV $(url)/2013_08_August/T201308PDPI+BNFT.CSV -o T201308ADDR+BNFT.CSV $(url)/2013_08_August/T201308ADDR+BNFT.CSV -o T201308CHEM+SUBS.CSV $(url)/2013_08_August/T201308CHEM+SUBS.CSV
	curl -o T201307PDPI+BNFT.CSV $(url)/2013_07_July/T201307PDPI+BNFT.CSV -o T201307ADDR+BNFT.CSV $(url)/2013_07_July/T201307ADDR+BNFT.CSV -o T201307CHEM+SUBS.CSV $(url)/2013_07_July/T201307CHEM+SUBS.CSV
	curl -o T201306PDPI+BNFT.CSV $(url)/2013_06_June/T201306PDPI+BNFT.csv -o T201306ADDR+BNFT.CSV $(url)/2013_06_June/T201306ADDR+BNFT.csv -o T201306CHEM+SUBS.CSV $(url)/2013_06_June/T201306CHEM+SUBS.csv
	curl -o T201305PDPI+BNFT.CSV $(url)/2013_05_May/T201305PDPI+BNFT.CSV -o T201305ADDR+BNFT.CSV $(url)/2013_05_May/T201305ADDR+BNFT.CSV -o T201305CHEM+SUBS.CSV $(url)/2013_05_May/T201305CHEM+SUBS.CSV
	curl -o T201304PDPI+BNFT.CSV $(url)/2013_04_April/T201304PDPI+BNFT.csv -o T201304ADDR+BNFT.CSV $(url)/2013_04_April/T201304ADDR+BNFT.csv -o T201304CHEM+SUBS.CSV $(url)/2013_04_April/T201304CHEM+SUBS.csv
	curl -o T201303PDPI+BNFT.CSV $(url)/2013_03_March/T201303PDPI+BNFT.csv -o T201303ADDR+BNFT.CSV $(url)/2013_03_March/T201303ADDR+BNFT.csv -o T201303CHEM+SUBS.CSV $(url)/2013_03_March/T201303CHEM+SUBS.csv
	curl -o T201302PDPI+BNFT.CSV $(url)/2013_02_February/T201302PDPI+BNFT.CSV -o T201302ADDR+BNFT.CSV $(url)/2013_02_February/T201302ADDR+BNFT.CSV -o T201302CHEM+SUBS.CSV $(url)/2013_02_February/T201302CHEM+SUBS.CSV
	curl -o T201301PDPI+BNFT.CSV $(url)/2013_01_January/T201301PDPI+BNFT.CSV -o T201301ADDR+BNFT.CSV $(url)/2013_01_January/T201301ADDR+BNFT.CSV -o T201301CHEM+SUBS.CSV $(url)/2013_01_January/T201301CHEM+SUBS.CSV

# download 2012 files (rename for consistency)
dwnl2012:
	curl -o T201212PDPI+BNFT.CSV $(url)/2012_12_December/T201212PDPI+BNFT.CSV -o T201212ADDR+BNFT.CSV $(url)/2012_12_December/T201212ADDR+BNFT.CSV -o T201212CHEM+SUBS.CSV $(url)/2012_12_December/T201212CHEM+SUBS.CSV
	curl -o T201211PDPI+BNFT.CSV $(url)/2012_11_November/T201211PDPI+BNFT.CSV -o T201211ADDR+BNFT.CSV $(url)/2012_11_November/T201211ADDR+BNFT.CSV -o T201211CHEM+SUBS.CSV $(url)/2012_11_November/T201211CHEM+SUBS.CSV
	curl -o T201210PDPI+BNFT.CSV $(url)/2012_10_October/T201210PDPI+BNFT.CSV -o T201210ADDR+BNFT.CSV $(url)/2012_10_October/T201210ADDR+BNFT.CSV -o T201210CHEM+SUBS.CSV $(url)/2012_10_October/T201210CHEM+SUBS.CSV
	curl -o T201209PDPI+BNFT.CSV $(url)/2012_09_September/T201209PDPI+BNFT.CSV -o T201209ADDR+BNFT.CSV $(url)/2012_09_September/T201209ADDR+BNFT.CSV -o T201209CHEM+SUBS.CSV $(url)/2012_09_September/T201209CHEM+SUBS.CSV
	curl -o T201208PDPI+BNFT.CSV $(url)/2012_08_August/T201208PDPI+BNFT.CSV -o T201208ADDR+BNFT.CSV $(url)/2012_08_August/T201208ADDR%20BNFT.CSV -o T201208CHEM+SUBS.CSV -O $(url)/2012_08_August/T201208CHEM+SUBS.CSV
	curl -o T201207PDPI+BNFT.CSV $(url)/2012_07_July/T201207PDPI+BNFT.CSV -o T201207ADDR+BNFT.CSV $(url)/2012_07_July/T201207ADDR%20BNFT.CSV -o T201207CHEM+SUBS.CSV $(url)/2012_07_July/T201207CHEM+SUBS.CSV
	curl -o T201206PDPI+BNFT.CSV $(url)/2012_06_June/T201206PDPI+BNFT.CSV -o T201206ADDR+BNFT.CSV $(url)/2012_06_June/T201206ADDR+BNFT.CSV -o T201206CHEM+SUBS.CSV $(url)/2012_06_June/T201206CHEM+SUBS.CSV
	curl -o T201205PDPI+BNFT.CSV $(url)/2012_05_May/T201205PDPI%20BNFT.CSV -o T201205ADDR+BNFT.CSV $(url)/2012_05_May/T201205ADDR%20BNFT.CSV -o T201205CHEM+SUBS.CSV $(url)/2012_05_May/T201205CHEM%20SUBS.CSV
	curl -o T201204PDPI+BNFT.CSV $(url)/2012_04_April/T201204PDPI%20BNFT.CSV -o T201204ADDR+BNFT.CSV $(url)/2012_04_April/T201204ADDR%20BNFT.CSV -o T201204CHEM+SUBS.CSV $(url)/2012_04_April/T201204CHEM%20SUBS.CSV
	curl -o T201203PDPI+BNFT.CSV $(url)/2012_03_March/T201203PDPI%20BNFT.CSV -o T201203ADDR+BNFT.CSV $(url)/2012_03_March/T201203ADDR%20BNFT.CSV -o T201203CHEM+SUBS.CSV $(url)/2012_03_March/T201203CHEM%20SUBS.CSV
	curl -o T201202PDPI+BNFT.CSV $(url)/2012_02_February/T201202PDPI%20BNFT.CSV -o T201202ADDR+BNFT.CSV $(url)/2012_02_February/T201202ADDR%20BNFT.CSV -o T201202CHEM+SUBS.CSV $(url)/2012_02_February/T201202CHEM%20SUBS.CSV
	curl -o T201201PDPI+BNFT.CSV $(url)/2012_01_January/T201201PDPI%20BNFT.CSV -o T201201ADDR+BNFT.CSV $(url)/2012_01_January/T201201ADDR%20BNFT.CSV -o T201201CHEM+SUBS.CSV $(url)/2012_01_January/T201201CHEM%20SUBS.CSV 

# download 2011 files (rename for consistency)
dwnl2011:
	curl -o T201112PDPI+BNFT.CSV $(url)/2011_12_December/T201112PDPI%20BNFT.CSV -o T201112ADDR+BNFT.CSV $(url)/2011_12_December/T201112ADDR%20BNFT.CSV -o T201112CHEM+SUBS.CSV $(url)/2011_12_December/T201112CHEM%20SUBS.CSV
	curl -o T201111PDPI+BNFT.CSV $(url)/2011_11_November/T201111PDPI%20BNFT.CSV -o T201111ADDR+BNFT.CSV $(url)/2011_11_November/T201111ADDR%20BNFT.CSV -o T201111CHEM+SUBS.CSV $(url)/2011_11_November/T201111CHEM%20SUBS.CSV
	curl -o T201110PDPI+BNFT.CSV $(url)/2011_10_October/T201110PDPI%20BNFT.CSV -o T201110ADDR+BNFT.CSV $(url)/2011_10_October/T201110ADDR%20BNFT.CSV -o T201110CHEM+SUBS.CSV $(url)/2011_10_October/T201110CHEM%20SUBS.CSV
	curl -o T201109PDPI+BNFT.CSV $(url)/2011_09_September/T201109PDPI%20BNFT.CSV -o T201109ADDR+BNFT.CSV $(url)/2011_09_September/T201109ADDR%20BNFT.CSV -o T201109CHEM+SUBS.CSV $(url)/2011_09_September/T201109CHEM%20SUBS.CSV
	curl -o T201108PDPI+BNFT.CSV $(url)/2011_08_August/T201108PDPI%20BNFT.CSV -o T201108ADDR+BNFT.CSV $(url)/2011_08_August/T201108ADDR%20BNFT.CSV -o T201108CHEM+SUBS.CSV $(url)/2011_08_August/T201108CHEM%20SUBS.CSV
	curl -o T201107PDPI+BNFT.CSV $(url)/2011_07_July/T201107PDPI%20BNFT.CSV -o T201107ADDR+BNFT.CSV $(url)/2011_07_July/T201107ADDR%20BNFT.CSV -o T201107CHEM+SUBS.CSV $(url)/2011_07_July/T201107CHEM%20SUBS.CSV
	curl -o T201106PDPI+BNFT.CSV $(url)/2011_06_June/T201106PDPI%20BNFT.CSV -o T201106ADDR+BNFT.CSV $(url)/2011_06_June/T201106ADDR%20BNFT.CSV -o T201106CHEM+SUBS.CSV $(url)/2011_06_June/T201106CHEM%20SUBS.CSV
	curl -o T201105PDPI+BNFT.CSV $(url)/2011_05_May/T201105PDPI%20BNFT.CSV -o T201105ADDR+BNFT.CSV $(url)/2011_05_May/T201105ADDR%20BNFT.CSV -o T201105CHEM+SUBS.CSV $(url)/2011_05_May/T201105CHEM%20SUBS.CSV
	curl -o T201104PDPI+BNFT.CSV $(url)/2011_04_April/T201104PDPI%20BNFT.CSV -o T201104ADDR+BNFT.CSV $(url)/2011_04_April/T201104ADDR%20BNFT.CSV -o T201104CHEM+SUBS.CSV $(url)/2011_04_April/T201104CHEM%20SUBS.CSV
	curl -o T201103PDPI+BNFT.CSV $(url)/2011_03_March/T201103PDPI%20BNFT.CSV -o T201103ADDR+BNFT.CSV $(url)/2011_03_March/T201103ADDR%20BNFT.CSV -o T201103CHEM+SUBS.CSV $(url)/2011_03_March/T201103CHEM%20SUBS.CSV
	curl -o T201102PDPI+BNFT.CSV $(url)/2011_02_February/T201102PDPI%20BNFT.CSV -o T201102ADDR+BNFT.CSV $(url)/2011_02_February/T201102ADDR%20BNFT.CSV -o T201102CHEM+SUBS.CSV $(url)/2011_02_February/T201102CHEM%20SUBS.CSV
	curl -o T201101PDPI+BNFT.CSV $(url)/2011_01_January/T201101PDPI%20BNFT.CSV -o T201101ADDR+BNFT.CSV $(url)/2011_01_January/T201101ADDR%20BNFT.CSV -o T201101CHEM+SUBS.CSV $(url)/2011_01_January/T201101CHEM%20SUBS.CSV

# download 2010 files (rename for consistency)
dwnl2010:
	curl -o T201012PDPI+BNFT.CSV $(url)/2010_12_December/T201012PDPI%20BNFT.CSV -o T201012ADDR+BNFT.CSV $(url)/2010_12_December/T201012ADDR%20BNFT.CSV -o T201012CHEM+SUBS.CSV $(url)/2010_12_December/T201012CHEM%20SUBS.CSV
	curl -o T201011PDPI+BNFT.CSV $(url)/2010_11_November/T201011PDPI%20BNFT.CSV -o T201011ADDR+BNFT.CSV $(url)/2010_11_November/T201011ADDR%20BNFT.CSV -o T201011CHEM+SUBS.CSV $(url)/2010_11_November/T201011CHEM%20SUBS.CSV
	curl -o T201010PDPI+BNFT.CSV $(url)/2010_10_October/T201010PDPI%20BNFT.CSV -o T201010ADDR+BNFT.CSV $(url)/2010_10_October/T201010ADDR%20BNFT.CSV -o T201010CHEM+SUBS.CSV $(url)/2010_10_October/T201010CHEM%20SUBS.CSV
	curl -o T201009PDPI+BNFT.CSV $(url)/2010_09_September/T201009PDPI%20BNFT.CSV -o T201009ADDR+BNFT.CSV $(url)/2010_09_September/T201009ADDR%20BNFT.CSV -o T201009CHEM+SUBS.CSV $(url)/2010_09_September/T201009CHEM%20SUBS.CSV
	curl -o T201008PDPI+BNFT.CSV $(url)/2010_08_August/T201008PDPI%20BNFT.CSV -o T201008ADDR+BNFT.CSV $(url)/2010_08_August/T201008ADDR%20BNFT.CSV -o T201008CHEM+SUBS.CSV $(url)/2010_08_August/T201008CHEM%20SUBS.CSV
